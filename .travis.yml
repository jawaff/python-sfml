matrix:
  include:
  # - os: linux
  #   language: python
  #   python: "2.7"
  #   install: python setup.py sdist bdist_wheel
  # - os: linux
  #   language: python
  #   python: "3.7-dev"
  #   install: python setup.py sdist bdist_wheel
  - os: windows
    # Travis' Windows Env doesn't support a Python language.
    language: shell
    # The python version will have to be selected based off the executable that is used.
    install: python setup.py sdist bdist_wheel
  # - os: windows
  #   # Travis' Windows Env doesn't support a Python language.
  #   language: bash
  #   install: 
  #     python --version
  #     pip --version

before_install:
  - chmod +x scripts/sfml_install.sh
  # The '.' executes this script within the current Bash shell.
  - . scripts/sfml_install.sh $TRAVIS_OS_NAME
  - powershell -ExecutionPolicy Bypass -Command ./scripts/windows_env_setup.ps1
    
notifications:
  email: false

install:
  echo "Attempt at a common install command!"
#   # Handles the push to pypi.
#   - twine upload --repository-url https://upload.pypi.org/legacy/ dist/*

script:
-  ls dist/
#   TODO: Explore integration testing.
#   - pytest cython_example_proj
  
deploy:
  provider: pypi
  user: jawaff
  password:
    secure: k2bIOVM4pxN0rDU/lqzrQnUHvxl5iHbg5KeQhldBN0BrniX+8almJKZEoOF7botj251iooU0WrGxTkkbaKdiByQz9bo8gfPyA/xvbGoAMIzuO1awIqNi8D6pHGFQAgGsIYtOar7+HUwBH88DZ5I9Y0Lps2Dewy4uAiulz4VTiT5mrmFER7OjSaL8ai/N5DGoHSbfWG7LZCuGOscE8SnYRG6V/v6dAflG6mNk1W/LOiijWMiX4bcghzGucxoaSc/mYqYbpPGJbLr9FR+2NcjyWAEYWRNfUY7nsr5cOresT/lEvQ2lTBm+m88cG2/qIJf4MFnChWTA1AmWMgylm1ZFywdNDeEUTBoSvXICMG+E9ajI1CqO3H2q8VtUNqPl7sREdj/Nev2ptDC9iysCLtjshpnqAZEufDrSTIxY5q7vEsbCiUCmM1htcdSVuMjk9MzNz+MMJsKEXCNAw8963I73hMOxmf2rluL4T1LgsCgD6KJ91cRmTpON/ZFaGy43peJLAOylmgAyCjzuaDYlosF+KNdYLra6CN3Zp+8gVOQHe0zzgJsN8J1z4mGaJBWnaIyU7BkDm9yTIwpbwmemAKcB6EeMO9PFTSeMEk2R2KoRN6x5nRGtoQajGx5yiDZjIg5LrYzkLbshpuaYuVr0wted06HMReV7QTksfZXbJb+u98I=
  on:
    branch: master